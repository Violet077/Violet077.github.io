

// Definisikan daftar gambar dalam array
        var galleryItems = [
            { desc: "Milet", src: "foto/1.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/2.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/3.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/4.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/5.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/6.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/7.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/8.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/9.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/10.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/11.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/12.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/13.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/14.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/15.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/16.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/17.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/18.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/19.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/20.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/21.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/22.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/23.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/24.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/25.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/26.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/27.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/28.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/29.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/30.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/31.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/32.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/33.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/34.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/35.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/36.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/37.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/38.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/39.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/40.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/41.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/42.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/43.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/44.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/45.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/46.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/47.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/48.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/49.jpg", category: "Girl" },
			{ desc: "Milet", src: "foto/50.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/51.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/52.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/53.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/54.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/55.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/56.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/57.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/58.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/59.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/60.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/61.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/62.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/63.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/64.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/65.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/66.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/67.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/68.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/69.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/70.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/71.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/72.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/73.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/74.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/75.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/76.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/77.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/78.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/79.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/80.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/81.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/82.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/83.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/84.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/85.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/86.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/87.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/88.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/89.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/90.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/91.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/92.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/93.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/94.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/95.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/96.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/97.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/98.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/99.jpg", category: "Girl" },
			{ desc: "IU", src: "foto/100.jpg", category: "Girl" },
            
            // Add more images here
        ];
		
        // Fungsi untuk mengacak array
		function shuffleArray(array) {
			for (let i = array.length - 1; i > 0; i--) {
				const j = Math.floor(Math.random() * (i + 1));
				[array[i], array[j]] = [array[j], array[i]];
			}
		}

		// Acak galeri saat pertama kali dimuat
		shuffleArray(galleryItems);

		// Fungsi untuk merender gambar ke dalam elemen HTML (tanpa mengacaknya)
		function renderGallery(query = '', isShuffle = false) {
			var galleryDiv = document.getElementById('gallery');

			// Apply the fade-out class only if isShuffle is true
			if (isShuffle) {
				galleryDiv.classList.add('fade-out');
			}

			// Use setTimeout to wait for the transition to complete
			setTimeout(function () {
				if (isShuffle) {
					shuffleArray(galleryItems);
				}

				// Clear gallery before adding new items
				galleryDiv.innerHTML = '';

				galleryItems.forEach(item => {
					// If there is a search query, filter out non-matching items
					if (query && !item.desc.toLowerCase().includes(query.toLowerCase())) return;

					var galleryItem = document.createElement('div');
					galleryItem.className = 'gallery-item';
					galleryItem.onclick = function () {
						openLightbox(item.src);
					};

					var img = document.createElement('img');
					img.src = item.src;
					img.alt = item.desc;
					galleryItem.appendChild(img);

					var desc = document.createElement('div');
					desc.className = 'desc';
					desc.textContent = item.desc;
					galleryItem.appendChild(desc);

					galleryDiv.appendChild(galleryItem);
				});

				// Remove the fade-out class to make the gallery visible again
				if (isShuffle) {
					galleryDiv.classList.remove('fade-out');
				}
			}, 1000); // 500 milliseconds corresponds to the duration of the fade-out transition
		}

			
		// Function to open lightbox
        function openLightbox(imageSrc) {
            var url = 'prev.html?image=' + encodeURIComponent(imageSrc);
			window.location.href = url;
        }

        // Function to close lightbox
        function closeLightbox() {
            var lightbox = document.getElementById('lightbox');
            lightbox.style.display = 'none';
        }
		function openMenu() {
			document.getElementById("sideMenu").style.left = "0";
			document.body.classList.add('menu-open'); // Tambahkan kelas untuk mengubah tampilan konten
		}

		function closeMenu() {
			document.getElementById("sideMenu").style.left = "-200px";
			document.body.classList.remove('menu-open'); // Hapus kelas untuk kembali ke tampilan normal
		}
		function shuffleArray(array) {
			for (let i = array.length - 1; i > 0; i--) {
				const j = Math.floor(Math.random() * (i + 1));
				[array[i], array[j]] = [array[j], array[i]]; // Swap elemen
			}
		}
		function handleSmartSearch() {
			var searchInput = document.getElementById('searchInput');
			var searchSuggestions = document.getElementById('searchSuggestions');
			var query = searchInput.value.toLowerCase();
				
			// Clear previous suggestions
			searchSuggestions.innerHTML = '';
			
			var suggestions = new Set(); // Using Set to store unique suggestions
			galleryItems.forEach(function(item) {
				if (item.desc.toLowerCase().includes(query) && query !== '') {
					suggestions.add(item.desc); // Add matching description to suggestions set (duplicates will be ignored)
				}
			});
			
			// Change the display property based on suggestions size
			if (suggestions.size > 0) {
				searchSuggestions.style.display = 'block'; // Show suggestions if there are any
			} else {
				searchSuggestions.style.display = 'none'; // Hide suggestions if none
			}
			
			// Take the first 5 unique suggestions (or all if less than 5)
			Array.from(suggestions).slice(0, 5).forEach(function(suggestion) {
				var suggestionDiv = document.createElement('div');
				suggestionDiv.className = 'search-suggestion';
				suggestionDiv.textContent = suggestion;
				suggestionDiv.addEventListener('click', function() {
					searchInput.value = suggestionDiv.textContent;
					searchSuggestions.innerHTML = '';
				});
				searchSuggestions.appendChild(suggestionDiv);
			});
		}
		
		
		// Event listener untuk input pencarian
		document.getElementById('searchInput').addEventListener('keyup', function() {
			renderGallery(this.value);
		});
		

        // Render galeri untuk pertama kali
        renderGallery();

        // Atur interval untuk merender galeri setiap 10 menit dengan pengacakan
		setInterval(function() { renderGallery('', true); }, 600000);

		// Check and apply dark mode preference on page load
		if (localStorage.getItem('darkMode') === 'enabled') {
			var body = document.body;
			var navbar = document.querySelector('.navbar');
			var mainContent = document.querySelector('.main-content');
			

			// Apply dark mode class to various elements
			body.classList.add('dark-mode');
			navbar.classList.add('dark-mode');
			mainContent.classList.add('dark-mode');
			
		}
		document.getElementById('darkModeToggle').addEventListener('click', function() {
			var body = document.body;
			var navbar = document.querySelector('.navbar');
			var mainContent = document.querySelector('.main-content');
			

			// Toggle dark mode class on various elements
			body.classList.toggle('dark-mode');
			navbar.classList.toggle('dark-mode');
			mainContent.classList.toggle('dark-mode');




			// Save dark mode preference in local storage
			if (body.classList.contains('dark-mode')) {
				localStorage.setItem('darkMode', 'enabled');
			} else {
				localStorage.removeItem('darkMode');
			}
		});




// Add event listener to search box
document.getElementById('searchInput').addEventListener('input', handleSmartSearch);
